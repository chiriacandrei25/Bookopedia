{% extends 'base.html' %}

{% block body %}
<h1 class="mb-3">Received messages</h1>
{% for message in messages_received %}
<article class="media content-section">
    <img class="rounded-circle article-img"
        src="{{ url_for('static', filename='/pics/profile_pics/' + message.sender.image_file) }}">
    <div class="media-body">
        <div class="article-metadata">
            <a class="mr-2"
                href="{{url_for('users.user_page', user_id=message.sender.id)}}">{{ message.sender.first_name }} {{ message.sender.last_name }}</a>
        </div>
        <h2 class="article-title">{{ message.title }}</h2>
        <p class="article-content">{{ message.content }}</p>
        <a href="{{url_for('messages.create_message', receiver_id=message.sender.id)}}">
            <button type="button" class="btn btn-info btn-sm m-1">Reply</button></a>
    </div>
</article>
{% endfor %}
<h1 class="mb-3">Sent messages</h1>
{% for message in messages_sent %}
<article class="media content-section">
    <img class="rounded-circle article-img"
        src="{{ url_for('static', filename='/pics/profile_pics/' + message.receiver.image_file) }}">
    <div class="media-body">
        <div class="article-metadata">
            <a class="mr-2"
                href="{{url_for('users.user_page', user_id=message.receiver.id)}}">{{ message.receiver.first_name }} {{ message.receiver.last_name }}</a>
        </div>
        <h2 class="article-title">{{ message.title }}</h2>
        <p class="article-content">{{ message.content }}</p>
    </div>
</article>
{% endfor %}
{% endblock %}